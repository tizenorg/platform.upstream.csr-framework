PKG_CHECK_MODULES(TEST_DEP
    REQUIRED
    dlog
    )

SET(${TARGET_TCS_TEST}_SRCS
    SampleInfo.c
    TCSTest.c
    TCSTestUtils.c
)

SET(${TARGET_TWP_TEST}_SRCS
    TWPTest.c
    TWPTestUtils.c
    XMHttp.c
    XMPHttp.c
    )

INCLUDE_DIRECTORIES(
    SYSTEM
    ${PROJECT_SOURCE_DIR}/framework
    ${CMAKE_CURRENT_SOURCE_DIR}
    ${TEST_DEP_INCLUDE_DIRS}
    )

ADD_EXECUTABLE(${TARGET_TCS_TEST} ${${TARGET_TCS_TEST}_SRCS})
ADD_EXECUTABLE(${TARGET_TWP_TEST} ${${TARGET_TWP_TEST}_SRCS})
TARGET_LINK_LIBRARIES(${TARGET_TCS_TEST} ${TARGET_LIB})
TARGET_LINK_LIBRARIES(${TARGET_TWP_TEST} ${TARGET_LIB})

INSTALL(TARGETS
        ${TARGET_TCS_TEST}
        ${TARGET_TWP_TEST}
    DESTINATION bin
    )
